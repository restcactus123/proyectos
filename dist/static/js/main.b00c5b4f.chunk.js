(window.webpackJsonprestcactuspanel=window.webpackJsonprestcactuspanel||[]).push([[0],{215:function(e,t,a){e.exports=a.p+"static/media/logocactus.76c6e743.png"},217:function(e,t,a){e.exports=a(410)},222:function(e,t,a){},410:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),o=a(212),i=a.n(o),s=(a(222),a(5)),l=a(32),c=a(4),m=Object(c.b)(null,(function(e){return{salir:function(){return e((function(e,t,a){(0,a.getFirebase)().auth().signOut().then((function(){e({type:"SALIR_OK"})}))}))}}}))((function(e){return n.a.createElement("ul",{className:"right"},n.a.createElement("li",null,n.a.createElement(s.c,{to:"/crearreserva"},"Nueva Reserva")),n.a.createElement("li",null,n.a.createElement("a",{onClick:e.salir},"Salir")),n.a.createElement("li",null,n.a.createElement(s.c,{to:"/",className:"btn btn-floating green lighten-1"},e.profile.nombre)))})),u=function(){return n.a.createElement("ul",{className:"right"},n.a.createElement("li",null,n.a.createElement(s.c,{to:"/entrar"},"Entrar")),n.a.createElement("li",null,n.a.createElement(s.c,{to:"/registrar"},"Registrar")))},d=Object(c.b)(null,(function(e){return{salir:function(){return e((function(e,t,a){(0,a.getFirebase)().auth().signOut().then((function(){e({type:"SALIR_OK"})}))}))}}}))((function(e){return n.a.createElement("ul",{className:"right"},n.a.createElement("li",null,n.a.createElement(s.c,{to:"/crearreservaadm"},"Nueva Reserva")),n.a.createElement("li",null,n.a.createElement("a",{onClick:e.salir},"Salir")),n.a.createElement("li",null,n.a.createElement(s.c,{to:"/",className:"btn btn-floating red lighten-1"},e.profile.nombre)))})),h=a(215),f=a.n(h),p=Object(c.b)((function(e){return console.log(e),{auth:e.firebase.auth,profile:e.firebase.profile}}))((function(e){var t=e.auth,a=e.profile,r="admin@restaurantecactus.com"===t.email?n.a.createElement(d,{profile:a}):n.a.createElement(m,{profile:a});return t.uid||(r=n.a.createElement(u,null)),console.log("enlaces"+r),n.a.createElement("nav",{className:"nav-wraper green darken-3"},n.a.createElement("div",{className:"container"},n.a.createElement(s.b,{to:"/",className:"left brand-logo"},"Reservas"),r,n.a.createElement("img",{src:f.a,alt:"logo",align:"right",width:"50",height:"50"})))})),b=a(14),E=a(15),v=a(17),g=a(16),R=a(18),O=function(e){var t=e.notificaciones;return n.a.createElement("div",{className:"section"},n.a.createElement("div",{className:"card z-depth-10"},n.a.createElement("div",{className:"card-content"},n.a.createElement("span",{className:"card-title"},"Notificaciones"),n.a.createElement("ul",null,t&&t.map((function(e){return n.a.createElement("li",{key:e.id},n.a.createElement("span",{className:"red-text"},e.usuario),n.a.createElement("span",null,"-",e.contenido))}))))))},C=a(135),y=a.n(C),N=function(e){var t=e.reserva;return n.a.createElement("div",{className:"card z-depth-10 resumen-reserva"},n.a.createElement("div",{className:"card-content grey-text text-darken-3"},n.a.createElement("span",{className:"card-title"},t.nombre),n.a.createElement("p",null,"Email: ",t.email),n.a.createElement("p",{className:"grey-text"},"Para el ",t.fecha," a las ",t.hora),n.a.createElement("p",{className:"grey-text"},"Comensales: ",t.comensales),n.a.createElement("p",{className:"grey-text"},t.estado),n.a.createElement("p",{className:"grey-text"},"Creada: ",y.a.locale("es")," ",y()(t.cuando.toDate()).format("lll"))))},j=function(e){var t=e.uid,a=e.reservas;return n.a.createElement("div",{className:"lista-reservas section"},a&&a.map((function(e){if(e.idCliente===t||"xui9v6fvzjNUYI4jdf6BcytNIrp1"===t)return n.a.createElement(s.b,{to:"/reserva/"+e.id,key:e.id},n.a.createElement(N,{reserva:e}))})))},A=a(21),F=a(10),G=function(e){function t(){return Object(b.a)(this,t),Object(v.a)(this,Object(g.a)(t).apply(this,arguments))}return Object(R.a)(t,e),Object(E.a)(t,[{key:"componentWillMount",value:function(){}},{key:"render",value:function(){console.log(this.props);var e=this.props,t=e.reservas,a=e.auth,r=e.notificaciones,o="admin@restaurantecactus.com"===a.email?n.a.createElement(O,{notificaciones:r}):null;return console.log(t),a.uid?n.a.createElement("div",{className:"panel container"},n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col s12 m6"},n.a.createElement(j,{uid:a.uid,reservas:t})),n.a.createElement("div",{className:"col s12 m5 offset-m1"},o))):n.a.createElement(l.a,{to:"/entrar"})}}]),t}(r.Component),w=Object(F.d)(Object(c.b)((function(e){return console.log(e),{reservas:e.firestore.ordered.reservas,auth:e.firebase.auth,notificaciones:e.firestore.ordered.notificaciones}})),Object(A.firestoreConnect)([{collection:"reservas",orderBy:["cuando"]},{collection:"notificaciones",limit:10,orderBy:["hora"]}]))(G);var S=Object(F.d)(Object(c.b)((function(e,t){var a=t.match.params.id,r=e.firestore.data.reservas;return{reserva:r?r[a]:null,auth:e.firebase.auth}})),Object(A.firestoreConnect)([{collection:"reservas"}]))((function(e){var t=e.match.params.id,a=(e.reserva,e.auth);return a.uid?"xui9v6fvzjNUYI4jdf6BcytNIrp1"===a.uid?n.a.createElement(l.a,{to:"/editarreservaadm/"+t}):n.a.createElement(l.a,{to:"/editarreserva/"+t}):n.a.createElement(l.a,{to:"/entrar"})})),x=a(9),D=function(e){function t(){var e,a;Object(b.a)(this,t);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(a=Object(v.a)(this,(e=Object(g.a)(t)).call.apply(e,[this].concat(n)))).state={email:"",contrasena:""},a.GestionaCambio=function(e){a.setState(Object(x.a)({},e.target.id,e.target.value))},a.GestionaEnvio=function(e){e.preventDefault(),console.log(a.state),a.props.entrar(a.state)},a}return Object(R.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){var e=this.props,t=e.authError;return e.auth.uid?n.a.createElement(l.a,{to:"/"}):n.a.createElement("div",{className:"container"},n.a.createElement("form",{onSubmit:this.GestionaEnvio,className:"white"},n.a.createElement("h5",{className:"grey-text text-darken-3"},"Entrar"),n.a.createElement("div",{className:"input-field"},n.a.createElement("label",{htmlFor:"email"},"Email"),n.a.createElement("input",{type:"email",id:"email",onChange:this.GestionaCambio})),n.a.createElement("div",{className:"input-field"},n.a.createElement("label",{htmlFor:"contrasena"},"Contrase\xf1a"),n.a.createElement("input",{type:"password",id:"contrasena",onChange:this.GestionaCambio})),n.a.createElement("div",{className:"input-field"},n.a.createElement("button",{className:"btn blue lighten-1 depth-10"},"Entrar"),n.a.createElement("div",{className:"red-text center"},t?n.a.createElement("p",null,t):null))))}}]),t}(r.Component),_=Object(c.b)((function(e){return{authError:e.aut.authError,auth:e.firebase.auth}}),(function(e){return{entrar:function(t){return e((a=t,function(e,t,r){(0,r.getFirebase)().auth().signInWithEmailAndPassword(a.email,a.contrasena).then((function(){e({type:"ENTRAR_OK"})})).catch((function(t){e({type:"ENTRAR_NOK",err:t})}))}));var a}}}))(D),k=function(e){function t(){var e,a;Object(b.a)(this,t);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(a=Object(v.a)(this,(e=Object(g.a)(t)).call.apply(e,[this].concat(n)))).state={email:"",contrasena:"",nombre:"",telefono:""},a.GestionaCambio=function(e){a.setState(Object(x.a)({},e.target.id,e.target.value))},a.GestionaEnvio=function(e){e.preventDefault(),a.props.registrar(a.state)},a}return Object(R.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){var e=this.props,t=e.auth,a=e.authError;return t.uid?n.a.createElement(l.a,{to:"/"}):n.a.createElement("div",{className:"container"},n.a.createElement("form",{onSubmit:this.GestionaEnvio,className:"white"},n.a.createElement("h5",{className:"grey-text text-darken-3"},"Entrar"),n.a.createElement("div",{className:"input-field"},n.a.createElement("label",{htmlFor:"email"},"Email"),n.a.createElement("input",{type:"email",id:"email",onChange:this.GestionaCambio})),n.a.createElement("div",{className:"input-field"},n.a.createElement("label",{htmlFor:"contrasena"},"Contrase\xf1a"),n.a.createElement("input",{type:"password",id:"contrasena",onChange:this.GestionaCambio})),n.a.createElement("div",{className:"input-field"},n.a.createElement("label",{htmlFor:"nombre"},"Nombre"),n.a.createElement("input",{type:"text",id:"nombre",onChange:this.GestionaCambio})),n.a.createElement("div",{className:"input-field"},n.a.createElement("label",{htmlFor:"telefono"},"Tel\xe9fono"),n.a.createElement("input",{type:"text",id:"telefono",onChange:this.GestionaCambio})),n.a.createElement("div",{className:"input-field"},n.a.createElement("button",{className:"btn blue lighten-1 depth-10"},"Registrar"),n.a.createElement("div",{className:"red-text center"},a?n.a.createElement("p",null,a):null),"          ")))}}]),t}(r.Component),I=Object(c.b)((function(e){return{auth:e.firebase.auth,authError:e.aut.authError}}),(function(e){return{registrar:function(t){return e(function(e){return function(t,a,r){var n=r.getFirebase,o=r.getFirestore,i=n(),s=o();i.auth().createUserWithEmailAndPassword(e.email,e.contrasena).then((function(t){return s.collection("usuarios").doc(t.user.uid).set({nombre:e.nombre,telefono:e.telefono})})).then((function(){t({type:"REGISTRAR_OK"})})).catch((function(e){t({type:"REGISTRAR_NOK",err:e})}))}}(t))}}}))(k);function P(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function T(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?P(a,!0).forEach((function(t){Object(x.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):P(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var V=function(e){function t(){var e,a;Object(b.a)(this,t);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(a=Object(v.a)(this,(e=Object(g.a)(t)).call.apply(e,[this].concat(n)))).state={comensales:"",fecha:"",hora:"",obs:""},a.GestionaCambio=function(e){a.setState(Object(x.a)({},e.target.id,e.target.value))},a.GestionaEnvio=function(e){e.preventDefault(),a.props.crearReserva(a.state),a.props.history.push("/")},a}return Object(R.a)(t,e),Object(E.a)(t,[{key:"componentDidMount",value:function(){this.refs.comensales.focus()}},{key:"render",value:function(){return this.props.auth.uid?n.a.createElement("div",{className:"container"},n.a.createElement("form",{onSubmit:this.GestionaEnvio,className:"white"},n.a.createElement("h5",{className:"grey-text text-darken-3"},"Crear Reserva"),n.a.createElement("div",{className:"input-field"},n.a.createElement("label",{htmlFor:"comensales"},"Comensales"),n.a.createElement("input",{type:"text",ref:"comensales",id:"comensales",onChange:this.GestionaCambio})),n.a.createElement("div",{className:"input-field"},n.a.createElement("label",{htmlFor:"fecha"},"Fecha"),n.a.createElement("input",{type:"date",id:"fecha",onChange:this.GestionaCambio})),n.a.createElement("div",{className:"input-field"},n.a.createElement("label",{htmlFor:"hora"},"Hora"),n.a.createElement("input",{type:"time",id:"hora",onChange:this.GestionaCambio})),n.a.createElement("div",{className:"input-field"},n.a.createElement("label",{htmlFor:"obs"},"Observaciones"),n.a.createElement("input",{type:"text",id:"obs",onChange:this.GestionaCambio})),n.a.createElement("div",{className:"input-field"},n.a.createElement("button",{className:"btn blue lighten-1 depth-10"},"Confirmar")))):n.a.createElement(l.a,{to:"/entrar"})}}]),t}(r.Component),M=Object(c.b)((function(e){return{auth:e.firebase.auth}}),(function(e){return{crearReserva:function(t){return e(function(e){return function(t,a,r){r.getFirebase;var n=(0,r.getFirestore)(),o=a().firebase.profile,i=a().firebase.auth.uid,s=a().firebase.auth.email;n.collection("reservas").add(T({},e,{nombre:o.nombre,idCliente:i,telefono:o.telefono,email:s,cuando:new Date,estado:"PENDIENTE"})).then((function(){t({type:"CREAR_RESERVA",reserva:e})})).catch((function(e){t({type:"CREAR_RESERVA_ERROR",err:e})}))}}(t))}}}))(V),K=function(e){function t(){var e,a;Object(b.a)(this,t);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(a=Object(v.a)(this,(e=Object(g.a)(t)).call.apply(e,[this].concat(n)))).state={nombre:"",email:"",telefono:"",comensales:"",fecha:"",hora:"",idCliente:"",obs:""},a.GestionaCambio=function(e){a.setState(Object(x.a)({},e.target.id,e.target.value))},a.GestionaEnvio=function(e){e.preventDefault(),a.props.crearReservaAdm(a.state),a.props.history.push("/")},a}return Object(R.a)(t,e),Object(E.a)(t,[{key:"componentDidMount",value:function(){this.refs.nombre.focus()}},{key:"render",value:function(){return this.props.auth.uid?n.a.createElement("div",{className:"container"},n.a.createElement("form",{onSubmit:this.GestionaEnvio,className:"white"},n.a.createElement("h5",{className:"grey-text text-darken-3"},"Crear Reserva Administrador"),n.a.createElement("div",{className:"input-field"},n.a.createElement("label",{htmlFor:"nombre"},"Nombre"),n.a.createElement("input",{type:"text",ref:"nombre",id:"nombre",onChange:this.GestionaCambio})),n.a.createElement("div",{className:"input-field"},n.a.createElement("label",{htmlFor:"email"},"Email"),n.a.createElement("input",{type:"email",id:"email",onChange:this.GestionaCambio})),n.a.createElement("div",{className:"input-field"},n.a.createElement("label",{htmlFor:"telefono"},"Tel\xe9fono"),n.a.createElement("input",{type:"text",id:"telefono",onChange:this.GestionaCambio})),n.a.createElement("div",{className:"input-field"},n.a.createElement("label",{htmlFor:"comensales"},"Comensales"),n.a.createElement("input",{type:"text",id:"comensales",onChange:this.GestionaCambio})),n.a.createElement("div",{className:"input-field"},n.a.createElement("label",{htmlFor:"fecha"},"Fecha"),n.a.createElement("input",{type:"date",id:"fecha",onChange:this.GestionaCambio})),n.a.createElement("div",{className:"input-field"},n.a.createElement("label",{htmlFor:"hora"},"Hora"),n.a.createElement("input",{type:"time",id:"hora",onChange:this.GestionaCambio})),n.a.createElement("div",{className:"input-field"},n.a.createElement("label",{htmlFor:"idCliente"},"ID Cliente"),n.a.createElement("input",{type:"text",id:"idCliente",onChange:this.GestionaCambio})),n.a.createElement("div",{className:"input-field"},n.a.createElement("label",{htmlFor:"obs"},"Observaciones"),n.a.createElement("input",{type:"text",id:"obs",onChange:this.GestionaCambio})),n.a.createElement("div",{className:"input-field"},n.a.createElement("button",{className:"btn blue lighten-1 depth-10"},"Confirmar")))):n.a.createElement(l.a,{to:"/entrar"})}}]),t}(r.Component),z=Object(c.b)((function(e){return{auth:e.firebase.auth}}),(function(e){return{crearReservaAdm:function(t){return e(function(e){return function(t,a,r){r.getFirebase;(0,r.getFirestore)().collection("reservas").add(T({},e,{cuando:new Date,estado:"CONFIRMADA"})).then((function(){t({type:"CREAR_RESERVA_ADM",reserva:e})})).catch((function(e){t({type:"CREAR_RESERVA_ADM_ERROR",err:e})}))}}(t))}}}))(K),B=function(e){function t(e){var a;return Object(b.a)(this,t),(a=Object(v.a)(this,Object(g.a)(t).call(this,e))).GestionaCambio=function(e){a.setState(Object(x.a)({},e.target.id,e.target.value))},a.GestionaEnvio=function(e){e.preventDefault();var t=a.props.reservas.filter((function(e){return e.id===a.props.match.params.id}));console.log(t[0].id),console.log(a.state),console.log(a.props),a.props.editarReserva(a.state),a.props.history.push("/")},a.state={id:"",comensales:"",fecha:"",hora:"",obs:"",estado:""},a}return Object(R.a)(t,e),Object(E.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.reservas.filter((function(t){return t.id===e.props.match.params.id}));this.setState({id:t[0].id,comensales:t[0].comensales,fecha:t[0].fecha,hora:t[0].hora,obs:t[0].obs,estado:t[0].estado}),this.refs.comensales.value=t[0].comensales,this.refs.fecha.value=t[0].fecha,this.refs.hora.value=t[0].hora,this.refs.obs.value=t[0].obs,this.refs.estado.value=t[0].estado,this.refs.comensales.focus()}},{key:"render",value:function(){var e=this.props;e.reservas;return e.auth.uid?n.a.createElement("div",{className:"container"},n.a.createElement("form",{onSubmit:this.GestionaEnvio,className:"white"},n.a.createElement("h5",{className:"grey-text text-darken-3"},"Editar Reserva"),n.a.createElement("div",{className:"input-field"},n.a.createElement("label",{htmlFor:"comensales"},"Comensales"),n.a.createElement("input",{onFocus:this.GestionaFocus,type:"text",id:"comensales",ref:"comensales",onChange:this.GestionaCambio})),n.a.createElement("div",{className:"input-field"},n.a.createElement("label",{htmlFor:"fecha"},"Fecha"),n.a.createElement("input",{type:"datetime",id:"fecha",ref:"fecha",onChange:this.GestionaCambio})),n.a.createElement("div",{className:"input-field"},n.a.createElement("label",{htmlFor:"hora"},"Hora"),n.a.createElement("input",{type:"datetime",id:"hora",ref:"hora",onChange:this.GestionaCambio})),n.a.createElement("div",{className:"input-field"},n.a.createElement("label",{htmlFor:"obs"},"Observaciones"),n.a.createElement("input",{type:"text",id:"obs",ref:"obs",onChange:this.GestionaCambio})),n.a.createElement("div",{className:"input-field"},n.a.createElement("label",{htmlFor:"obs"},"Estado"),n.a.createElement("input",{type:"text",id:"estado",ref:"estado",onChange:this.GestionaCambio})),n.a.createElement("div",{className:"input-field"},n.a.createElement("button",{className:"btn green lighten-1 depth-10"},"Salvar Cambios")))):n.a.createElement(l.a,{to:"/entrar"})}}]),t}(r.Component),W=Object(F.d)(Object(c.b)((function(e){return console.log(e),{reservas:e.firestore.ordered.reservas,auth:e.firebase.auth}}),(function(e){return{editarReserva:function(t){return e(function(e){return function(t,a,r){r.getFirebase;var n=(0,r.getFirestore)(),o=a().firebase.profile,i=a().firebase.auth.uid;console.log("editarReserva",e),n.collection("reservas").doc(e.id).update(T({},e,{nombre:o.nombre,idCliente:i,telefono:o.telefono,cuando:new Date})).then((function(){t({type:"EDITAR_RESERVA",reserva:e})})).catch((function(e){t({type:"EDITAR_RESERVA_ERROR",err:e})}))}}(t))}}})),Object(A.firestoreConnect)([{collection:"reservas"}]))(B),H=function(e){function t(e){var a;return Object(b.a)(this,t),(a=Object(v.a)(this,Object(g.a)(t).call(this,e))).GestionaCambio=function(e){a.setState(Object(x.a)({},e.target.id,e.target.value))},a.GestionaEnvio=function(e){e.preventDefault(),console.log(a.state);var t=a.props.reservas.filter((function(e){return e.id==a.props.match.params.id}));console.log(t[0].id),console.log(a.state),console.log(a.props),a.props.editarReservaAdm(a.state),a.props.history.push("/")},a.state={id:"",nombre:"",email:"",telefono:"",comensales:"",fecha:"",hora:"",obs:"",estado:""},a}return Object(R.a)(t,e),Object(E.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.reservas.filter((function(t){return t.id===e.props.match.params.id}));this.setState({id:t[0].id,comensales:t[0].comensales,fecha:t[0].fecha,hora:t[0].hora,obs:t[0].obs,estado:t[0].estado,idCliente:t[0].idCliente,nombre:t[0].nombre,telefono:t[0].telefono}),this.refs.comensales.value=t[0].comensales,this.refs.fecha.value=t[0].fecha,this.refs.hora.value=t[0].hora,this.refs.obs.value=t[0].obs,this.refs.nombre.value=t[0].nombre,this.refs.telefono.value=t[0].telefono,this.refs.idCliente.value=t[0].idCliente,this.refs.estado.value=t[0].estado,this.refs.nombre.focus()}},{key:"render",value:function(){var e=this.props;e.reservas;return e.auth.uid?n.a.createElement("div",{className:"container"},n.a.createElement("form",{onSubmit:this.GestionaEnvio,className:"white"},n.a.createElement("h5",{className:"grey-text text-darken-3"},"Editar Reserva Administrador"),n.a.createElement("div",{className:"input-field"},n.a.createElement("label",{htmlFor:"nombre"},"Nombre"),n.a.createElement("input",{type:"text",id:"nombre",ref:"nombre",onChange:this.GestionaCambio})),n.a.createElement("div",{className:"input-field"},n.a.createElement("label",{htmlFor:"telefono"},"Tel\xe9fono"),n.a.createElement("input",{type:"text",id:"telefono",ref:"telefono",onChange:this.GestionaCambio})),n.a.createElement("div",{className:"input-field"},n.a.createElement("label",{htmlFor:"comensales"},"Comensales"),n.a.createElement("input",{type:"text",id:"comensales",ref:"comensales",onChange:this.GestionaCambio})),n.a.createElement("div",{className:"input-field"},n.a.createElement("label",{htmlFor:"fecha"},"Fecha"),n.a.createElement("input",{type:"date",id:"fecha",ref:"fecha",onChange:this.GestionaCambio})),n.a.createElement("div",{className:"input-field"},n.a.createElement("label",{htmlFor:"hora"},"Hora"),n.a.createElement("input",{type:"time",id:"hora",ref:"hora",onChange:this.GestionaCambio})),n.a.createElement("div",{className:"input-field"},n.a.createElement("label",{htmlFor:"idCliente"},"ID Cliente"),n.a.createElement("input",{type:"text",id:"idCliente",ref:"idCliente",onChange:this.GestionaCambio})),n.a.createElement("div",{className:"input-field"},n.a.createElement("label",{htmlFor:"obs"},"Observaciones"),n.a.createElement("input",{type:"text",id:"obs",ref:"obs",onChange:this.GestionaCambio})),n.a.createElement("div",{className:"input-field"},n.a.createElement("label",{htmlFor:"obs"},"Estado"),n.a.createElement("input",{type:"text",id:"estado",ref:"estado",onChange:this.GestionaCambio})),n.a.createElement("div",{className:"input-field"},n.a.createElement("button",{className:"btn green lighten-1 depth-10"},"Salvar Cambios")))):n.a.createElement(l.a,{to:"/entrar"})}}]),t}(r.Component),L=Object(F.d)(Object(c.b)((function(e){return console.log(e),{reservas:e.firestore.ordered.reservas,auth:e.firebase.auth}}),(function(e){return{editarReservaAdm:function(t){return e(function(e){return function(t,a,r){r.getFirebase;var n=(0,r.getFirestore)();console.log("editarReservaAdm",e),n.collection("reservas").doc(e.id).update(T({},e,{cuando:new Date})).then((function(){t({type:"EDITAR_RESERVA_ADM",reserva:e})})).catch((function(e){t({type:"EDITAR_RESERVA_ADM_ERROR",err:e})}))}}(t))}}})),Object(A.firestoreConnect)([{collection:"reservas"}]))(H);var U=function(){return n.a.createElement(s.a,null,n.a.createElement(p,null),n.a.createElement(l.d,null,n.a.createElement(l.b,{exact:!0,path:"/",component:w}),n.a.createElement(l.b,{path:"/reserva/:id",component:S}),n.a.createElement(l.b,{path:"/entrar",component:_}),n.a.createElement(l.b,{path:"/registrar",component:I}),n.a.createElement(l.b,{path:"/crearreserva",component:M}),n.a.createElement(l.b,{path:"/crearreservaadm",component:z}),n.a.createElement(l.b,{path:"/editarreserva/:id",component:W}),n.a.createElement(l.b,{path:"/editarreservaadm/:id",component:L})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function J(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function Y(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?J(a,!0).forEach((function(t){Object(x.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):J(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var q={authError:null},Q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:q,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ENTRAR_NOK":return console.log("error al entrar"),Y({},e,{authError:"Error al entrar!"});case"ENTRAR_OK":return console.log("entrar ok"),Y({},e,{authError:null});case"SALIR_OK":return console.log("salir ok"),e;case"REGISTRAR_OK":return console.log("registrar ok"),Y({},e,{authError:null});case"REGISTRAR_NOK":return console.log("error al registrar"),Y({},e,{authError:t.err.message});default:return e}},X={reservas:[{id:"1",nombre:"n1",email:"n1@n1.com",telefono:"654321098",comensales:"1",fecha:"11/11/2019",hora:"22:01",obs:"obs1"},{id:"2",nombre:"n2",email:"n2@n1.com",telefono:"654321098",comensales:"2",fecha:"12/11/2019",hora:"22:02",obs:"obs2"},{id:"3",nombre:"n3",email:"n3@n1.com",telefono:"654321098",comensales:"3",fecha:"13/11/2019",hora:"22:03",obs:"obs3"}]},$=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:X,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CREAR_RESERVA":return console.log("reserva creada",t.reserva),e;case"CREAR_RESERVA_ERROR":return console.log("error creando reserva",t.err),e;case"CREAR_RESERVA_ADM":return console.log("reserva creada adm",t.reserva),e;case"CREAR_RESERVA_ADM_ERROR":return console.log("error creando reserva adm",t.err),e;case"EDITAR_RESERVA":return console.log("reserva editada",t.reserva),e;case"EDITAR_RESERVA_ERROR":return console.log("error editando reserva",t.err),e;case"EDITAR_RESERVA_ADM":return console.log("reserva editada adm",t.reserva),e;case"EDITAR_RESERVA_ADM_ERROR":return console.log("error editando adm",t.err),e;default:return e}},Z=a(61),ee=Object(F.c)({aut:Q,res:$,firestore:Z.firestoreReducer,firebase:A.firebaseReducer}),te=a(216),ae=a(90),re=a.n(ae);a(405),a(408);re.a.initializeApp({apiKey:"AIzaSyDIPy1roQqrzPwa1kYqope2SnkVsC_DCTc",authDomain:"restcactus-4e8b9.firebaseapp.com",databaseURL:"https://restcactus-4e8b9.firebaseio.com",projectId:"restcactus-4e8b9",storageBucket:"restcactus-4e8b9.appspot.com",messagingSenderId:"979135861599",appId:"1:979135861599:web:362c6ae09053c8a922dcea",measurementId:"G-ETNGJ38NNX"}),re.a.firestore();var ne=re.a,oe=Object(F.e)(ee,Object(F.d)(Object(F.a)(te.a.withExtraArgument({getFirebase:A.getFirebase,getFirestore:Z.getFirestore})),Object(Z.reduxFirestore)(ne),Object(A.reactReduxFirebase)(ne,{useFirestoreForProfile:!0,userProfile:"usuarios",attachAuthIsReady:!0})));oe.firebaseAuthIsReady.then((function(){i.a.render(n.a.createElement(c.a,{store:oe},n.a.createElement(U,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}))}},[[217,1,2]]]);
//# sourceMappingURL=main.b00c5b4f.chunk.js.map